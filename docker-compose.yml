version: '3.8'

services:
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    ports:
      - "${FRONTEND_PORT:-3000}:3000"
    volumes:
      - ./frontend/src:/app/src
      - ./frontend/public:/app/public

  ml:
    build:
      context: ./ml
      dockerfile: Dockerfile
    ports:
      - "${ML_SERVICE_PORT:-8000}:8080"
    environment:
      - PORT=8080
    volumes:
      - ./ml/models:/app/models
      - ./data:/app/data
      - ./scripts:/app/scripts
